{"version":3,"sources":["webpack:///./src/js/modules/navigation.js","webpack:///./src/scss/app.scss","webpack:///./src/js/toolkit/dom.js","webpack:///./src/js/index.js"],"names":[],"mappings":"oDA6BS,YACP,GAAK,UACL,SAAK,iBACL,eAAK,iBACN,WAEQ,YACP,GAAK,UACL,YAAK,oBACL,eAAK,oBACN,WAE6B,aAC5B,CAAI,EAIJ,kBACE,IADE,iBAAQ,EAAU,WAGvB,IAE0B,aACzB,CAAI,EAIJ,kBACE,EADE,KAAE,YAEJ,iBAEH,KA1DD,QACA,sEAEA,KAAM,EACN,cAAM,EACA,eAEA,EAAO,kBACb,QAAM,EAAY,KAAY,aAD9B,aAmEI,EAAU,SACd,iBAAI,YACF,eAlEyB,WACzB,IAAI,GAAY,GAAI,WAEpB,aAAU,IACR,GAAI,WAAO,MACT,WAAW,UACX,yBAIJ,QAAU,GAAG,QAAU,WACrB,CAAI,EAAE,YAAc,UAClB,gBAEH,GACF,GAoDC,MAAU,YAjBH,UACP,IAAI,GAAU,SAAS,cACvB,UAUD,SAVS,aAAa,OACrB,YAAQ,UAAU,IAClB,wBAAQ,UAER,SAAQ,iBAAiB,QAAU,WACjC,GACA,iBACD,GAED,IAGF,CAIC,qBChFD,iCCAA,EAAO,QAAQ,QAEb,aAEa,2DACb,MAAI,EACF,EAAG,SACH,EAAG,uBACH,EAAG,oBACH,EAEF,qBAAI,GAAW,EACb,UAIA,kBAAI,EAGJ,aAAK,EAEP,cACD,QAtBD,EAwBA,EAAO,QAAQ,WACb,WAEmB,8DACnB,SAAI,EAAK,EACT,oBAAI,EAAE,YACJ,yBAAM,IAAI,OAEZ,uBACD,QATD,EAWA,EAAO,QAAQ,YACb,WAEa,8DACb,SAAI,EAAK,EACT,oBAAI,EAAE,YACJ,mBAAM,IAAI,OAEZ,uBACD,QATD,EAWA,EAAO,QAAQ,UACb,WAEkB,8DAClB,SAAI,EAAK,EACT,oBAAI,EAAE,YACJ,wBAAM,IAAI,OAEZ,uBACD,QATD,EAWA,EAAO,QAAQ,WACb,WAEmB,8DACnB,SAAI,EAAK,EACT,oBAAI,EAAE,YACJ,yBAAM,IAAI,OAEZ,uBACD,QATD,EAWA,EAAO,QAAQ,aACb,WAEqB,8DACrB,SAAI,EAAK,EACT,oBAAI,EAAE,YACJ,2BAAM,IAAI,OAEZ,uBACD,QATD,EAWA,EAAO,QAAQ,SACb,WAEiB,8DACjB,SAAI,EAAK,EACT,oBAAI,EAAE,YACJ,uBAAM,IAAI,OAEZ,uBACD,QATD,EAWA,EAAO,QAAQ,SACb,WAEiB,8DACjB,SAAI,EAAK,EACT,oBAAI,EAAE,YACJ,uBAAM,IAAI,OAEZ,uBACD,QATD,qCC1FA,UAEA,E","file":"app.fe1fdde5.js","sourcesContent":["// @flow\n\nimport { findElement, closest } from '../toolkit/dom';\nimport Hammer from 'hammerjs';\n\nconst NAV_VISIBLE_CLASS = 'nav-visible';\nconst NAV_SELECTOR = '.nav-section';\nconst CONTAINER_SELECTOR = '.masthead';\n\nconst body = findElement('body');\nconst container = findElement(CONTAINER_SELECTOR);\n\nfunction initializeSwiping(sidebar: HTMLElement) {\n  let hmSidebar = new Hammer.Manager(sidebar);\n\n  hmSidebar.add(\n    new Hammer.Swipe({\n      direction: Hammer.DIRECTION_LEFT,\n      threshold: 50\n    })\n  );\n\n  hmSidebar.on('swipe', (e: Event) => {\n    if (e.direction === Hammer.DIRECTION_LEFT) {\n      closeNavigation();\n    }\n  });\n}\n\nfunction openNavigation() {\n  body.classList.add(NAV_VISIBLE_CLASS);\n  body.addEventListener('keydown', watchForEscapeKey);\n  body.addEventListener('click', watchForClickOutside);\n}\n\nfunction closeNavigation() {\n  body.classList.remove(NAV_VISIBLE_CLASS);\n  body.removeEventListener('keydown', watchForEscapeKey);\n  body.removeEventListener('click', watchForClickOutside);\n}\n\nfunction watchForClickOutside(e) {\n  if (e.defaultPrevented) {\n    return;\n  }\n\n  if (closest(e.target, NAV_SELECTOR) === null) {\n    closeNavigation();\n  }\n}\n\nfunction watchForEscapeKey(e: Event) {\n  if (e.defaultPrevented) {\n    return;\n  }\n\n  if (e.keyCode === 27) {\n    e.preventDefault();\n    closeNavigation();\n  }\n}\n\nfunction createToggler(): HTMLButtonElement {\n  let toggler = document.createElement('button');\n  toggler.setAttribute('type', 'button');\n  toggler.classList.add('navigation-toggler');\n  toggler.innerHTML = 'Menu';\n\n  toggler.addEventListener('click', (e: Event) => {\n    e.preventDefault();\n    openNavigation();\n  });\n\n  return toggler;\n}\n\nlet sidebar = document.querySelector(NAV_SELECTOR);\nif (sidebar instanceof HTMLElement) {\n  initializeSwiping(sidebar);\n  container.appendChild(createToggler());\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/modules/navigation.js","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/scss/app.scss\n// module id = Vp6e\n// module chunks = 0","module.exports.closest = function(\n  el: HTMLElement,\n  selector: string,\n  andSelf: boolean = true\n): HTMLElement {\n  let matchesSelector =\n    el.matches ||\n    el.webkitMatchesSelector ||\n    el.mozMatchesSelector ||\n    el.msMatchesSelector;\n\n  if (andSelf && matchesSelector.call(el, selector)) {\n    return el;\n  }\n\n  while (el) {\n    if (matchesSelector.call(el, selector)) {\n      break;\n    }\n    el = el.parentElement;\n  }\n  return el;\n};\n\nmodule.exports.findButton = function(\n  selector: string,\n  context: Document | HTMLElement = document\n): HTMLButtonElement {\n  let el = context.querySelector(selector);\n  if (!(el instanceof HTMLButtonElement)) {\n    throw new Error(`Unable to locate ${selector}`);\n  }\n  return el;\n};\n\nmodule.exports.findElement = function(\n  selector: string,\n  context: Document | HTMLElement = document\n): HTMLElement {\n  let el = context.querySelector(selector);\n  if (!(el instanceof HTMLElement)) {\n    throw new Error(`Unable to locate ${selector}`);\n  }\n  return el;\n};\n\nmodule.exports.findInput = function(\n  selector: string,\n  context: Document | HTMLElement = document\n): HTMLInputElement {\n  let el = context.querySelector(selector);\n  if (!(el instanceof HTMLInputElement)) {\n    throw new Error(`Unable to locate ${selector}`);\n  }\n  return el;\n};\n\nmodule.exports.findSelect = function(\n  selector: string,\n  context: Document | HTMLElement = document\n): HTMLSelectElement {\n  let el = context.querySelector(selector);\n  if (!(el instanceof HTMLSelectElement)) {\n    throw new Error(`Unable to locate ${selector}`);\n  }\n  return el;\n};\n\nmodule.exports.findTextArea = function(\n  selector: string,\n  context: Document | HTMLElement = document\n): HTMLTextAreaElement {\n  let el = context.querySelector(selector);\n  if (!(el instanceof HTMLTextAreaElement)) {\n    throw new Error(`Unable to locate ${selector}`);\n  }\n  return el;\n};\n\nmodule.exports.findForm = function(\n  selector: string,\n  context: Document | HTMLElement = document\n): HTMLFormElement {\n  let el = context.querySelector(selector);\n  if (!(el instanceof HTMLFormElement)) {\n    throw new Error(`Unable to locate ${selector}`);\n  }\n  return el;\n};\n\nmodule.exports.findMeta = function(\n  selector: string,\n  context: Document | HTMLElement = document\n): HTMLMetaElement {\n  let el = context.querySelector(selector);\n  if (!(el instanceof HTMLMetaElement)) {\n    throw new Error(`Unable to locate ${selector}`);\n  }\n  return el;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/toolkit/dom.js","import '../scss/app.scss';\n\nimport './modules/navigation';\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/index.js"],"sourceRoot":""}